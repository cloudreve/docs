# Pro 授权管理 {#pro-license}

::: tip <Badge type="tip" text="Pro" />
本节只适用于 Pro 版。
:::

## 授权形式 {#license-form}

Cloudreve Pro 授权的主体为根域名，你可以在 [授权管理面板](https://cloudreve.org/login) 获取到下面授权密钥：

##### 授权密钥

最为常用，长期有效。在 Cloudreve Pro 版本启动时需要通过 `--license-key` 参数或 `CR_LICENSE_KEY` 环境变量传入此参数。此密钥与你的授权账户绑定，可用于兑换 `离线许可证密钥`；在连接互联网的情况下，Cloudreve 会在首次启动时使用此密钥兑换 `离线许可证密钥`。

##### 离线许可证密钥

有效期较短。离线许可证包含了你账户下所有的已授权域名、子域名、iOS VOL 授权等信息。在连接互联网的情况下，Cloudreve 会不定期使用 `授权密钥` 兑换新的 `离线许可证密钥`，以避免 `离线许可证密钥` 过期。

Cloudreve 需要有效（可以过期）的 `离线许可证密钥` 才能正常启动，但过期后，站点会变为只读状态，无法进行主要修改操作（如文件修改等）。你可以在后台首页底部点击 `更新离线授权` 按钮，使用 `授权密钥` 更新 `离线许可证密钥`，如果此操作失败，你可以在弹出窗口中手动填写从 [授权管理面板](https://cloudreve.org/login) 获取到的 `离线许可证密钥`。

当你在 [授权管理面板](https://cloudreve.org/login) 更新了子域名、根域名，或是购买了 iOS VOL 授权后，请及时更新 `离线许可证密钥`。

## 在离线情况下使用 {#offline}

在完全离线的情况下，首次启动 Cloudreve 前，先在 [授权管理面板](https://cloudreve.org/login) 获取 `离线许可证密钥` 和 `授权密钥`, 然后通过环境变量或命令行参数传入。

:::tabs

=== 环境变量

```bash
export CR_LICENSE_KEY="你的授权密钥"
export CR_OFFLINE_LICENSE="你的离线许可证密钥"
./cloudreve
```

=== 命令行参数

```bash
./cloudreve --license-key="你的授权密钥" --offline-license="你的离线许可证密钥"
```

:::

成功启动后，你还需要在离线许可证过期前，手动更新 `离线许可证密钥`。你可以在后台首页底部点击 `更新离线授权` 按钮，等待其更新失败弹出手动更新窗口。

## 常见问题 {#faq}

::: details 如何授权局域网 IP？

不推荐直接授权固定的 IP 地址，因为局域网 IP 可能会发生变化，但授权域名无法更改。你可以先授权一个根域名，在局域网部署时，将授权域名解析到局域网 IP，然后使用授权域名访问 Cloudreve。

:::
